210905  1010 18.46 51.4283N   6.6943E    1.0    1.8      1   0.0 0.00  1.0  1.0
ZERLS0   8.54ZER1S0  26.80BULIS0  32.17HESS0   26.28BUGS0   32.17KASTS0   57.80
KASTS0  42.27BKLBS0  32.38BTEZS0  33.42ENTS0   44.58DOR50S0 42.41LUN43S0  47.37
LUN43S0 52.54WER38S0 47.48BGK41S0 50.06KAM35S0 45.41BGK20S0 44.89HAM16S0  48.51


210910  1402 15.10 51.6343N   7.7361E    1.6    1.3      1   0.0 0.00  1.0  1.0
HAM16P0  0.55HAM03P0  0.56HAM12P0  0.46HMESP0  0.90HAM13P0  0.78BKG08P0  1.41
WER17P0  1.93KAM35P0  2.25BGK41P0  2.39WER38P0 2.89DOR50P0  3.44BUGP0    7.30
BKLBP0   7.29BPFIP0   7.85ENTP0    9.02KASTP0  12.92

210910  1402 15.10 51.6343N   7.7361E    1.6    1.3      1   0.0 0.00  1.0  1.0
HAM16S0  0.96HAMS03  1.01HMESS0  1.59HAM13S0  1.39WER17S0  3.52KAM46S0  5.12
BGK41P0  5.65WER38P0 5.32SORS0   11.54BUGS0   13.37BPFIP0  14.54KASTP0  21.04

210912  2057 39.61 51.6148N   7.6066E    1.27   1.8      1   0.0 0.00  1.0  1.0
BGK18P0 15.24BGK41P0 14.95KAM35P0 14.76LUN43P0 14.77BKG08P0 14.49WER38P0 14.11
KAM35P0 14.04HAM16P0 13.43DOR50P0 13.35WER38P0 12.28WER17P0 12.01

210912  2057 55.66 51.6090N   7.6316E    2.6    1.35     1   0.0 0.00  1.0  1.0
BGK41P0 26.95BGK20P0 26.81KAM35P0 26.76LUN43P0 26.75BGK08P0 26.49WER38P0 26.11
KAM35P0 26.04WER17P0 25.67HAM12P0 25.58HAM03P0 25.53HAM16P0 25.43HMESP0  25.41 
DOR50P0 25.35WER38P0 24.28WER17P0 24.01


210324  1703 32.29 51.6585N   7.7471E    2.0    1.6     1   0.0 0.00  1.0  1.0
HAM11P0 1.02HAM14P0  1.04WER17P0 1.94BGK20P0 2.3DOR50P0 4.34SORP0  7.45BULIP0 8.65  
HESP0   10.80HAM02P0 0.62HMESP0 0.68HAM12P0  0.74HAM03P0 0.78HAM13P0 1.00
WER15P0  1.30HAM29P0 1.54BGK10P0 2.52KASTP0  13.44

210324  1703 32.29 51.6585N   7.7471E    2.0    1.6     1   0.0 0.00  1.0  1.0
HMESS0  1.25HAM02S0  1.22HAM11S0 1.86HAM13S0 1.8HAM16S0 2.02HAM29S0  2.61
WER17S0 3.43BGK18S0  4.41SORS0  12.72BULIS0  14.65BUGS0  13.96ENTS0  16.39 
KASTS0  22.50



210521  1934 14.38 51.6382N   7.7313E    1.38   1.38     1   0.0 0.00  1.0  1.0
HAM03P0 1.92HAM02P0 1.80HAM16P0 1.87HAM13P0 1.84HMESP0  1.78HAM05P0 1.75
HAM07P0 1.66HAM12P0 1.02HAM06P0 0.80HAM11P0 1.25HAM14P0 1.25BGK10P0 0.95
WER15P0 0.25BGK08P0 0.24KAM04P0 0.19HAM29P0 1.17BGK20S0

210521  1934 14.38 51.6382N   7.7313E    1.38   1.38     1   0.0 0.00  1.0  1.0
HAM03S0 1.72HAM02S0 1.47HAM16S0 1.55HAM13S0 1.36HMESS0  1.30HAM05S0 1.73
HAM07S0 1.02HAM11S0 1.37HAM14S0 1.33HAM29S0 1.11BGK18S0     SORSg0   0.00
BULIS0      BPFISg0      ENTSg0


840425  640  4.49 37.1597N 121.5423W    8.56   0.00     75  0.0 0.05  1.0  1.0
HSPMP0  1.51CADMP0  1.93HGSMP0  1.99JCBMP0  2.61HCAMP2  2.76HGWMP0  3.29
CAOMP0  3.74HCRMP1  3.84JSTMP0  3.92HFEMP1  3.84CSCMP1  4.83HPLMP0  4.18
JALMP0  4.61CMPMP3  5.20BSRMP2  9.25 
https://fdsnws.geophysik.ruhr-uni-bochum.de/fdsnws/event/1/query?starttime=
2021-01-01T00%3A00%3A00&endtime=2021-09-16T00%3A00%3A00&minlatitude=51.4&maxlatitude
=51.7&minlongitude=7.0&maxlongitude=7.8&mindepth=0.0&maxdepth=300.0&minmagnitude=1.0&maxmagnitude=
4.0&magnitudetype=M&includeallorigins=true&includeallmagnitudes=true&includearrivals=
true&includepicks=false&limit=10

# Velocity Model M1g (Crust 2.0, extended crust, 3 km seds.)
# Model starts at z=-1
LAYER     -1.0  3.0 0.40    1.73 0.29    2.7 0.0
#LAYER     0.0  4.4 -1.90   2.5 -1.30    2.50 0.00
#LAYER     1.0  2.5 1.90    1.2  1.30    2.10 0.00
#LAYER     2.0  4.4 0.85    2.5  0.50    2.50 0.00
#LAYER     4.0  6.1 0.00    3.5  0.00    2.75 0.00
#LAYER    10.0  6.3 0.00    3.75 0.00    2.7 0.0
#LAYER    25.0  8.0 0.00    4.76 0.00    2.7 0.0
#LAYER    12.0  6.3 0.00    3.6  0.00    2.80 0.00
#LAYER    18.0  7.0 0.00    4.17 0.00    2.7 0.0
#LAYER    22.0  6.6 0.00    3.6  0.00    2.90 0.00
#LAYER    25.0  8.0 0.00    4.76 0.00    2.7 0.0
#LAYER    32.0  8.0 0.00    4.6  0.00    3.30 0.00

# =============================================================================
#  Sample NonLinLoc programs control file
#
#  NonLinLoc Version 6.0> - MAy2021
#
#  Anthony Lomax <anthony@alomax.net>
#
#  See "Control File" and "Running the Sample Location" pages
#     in the NonLicLoc on-line documentation:
#     http://www.alomax.net/nlloc
# =============================================================================

# =============================================================================
# Generic control file statements
# =============================================================================
#

# control (CONTROL message_flag (0:silent,1:few messages,2:verbose,...),
#		RandomNumSeed)
CONTROL 1 54321

# -----------------------------------------------------------------------------
# lat/long to rect grid transformation
# -----------------------------------------------------------------------------
# map projection / transformation
# (TRANS type <params>)
#    (char[])   search_type (SIMPLE, LAMBERT)
#    <params>:
#	SIMPLE LatOrig  LongOrig  RotCW
#	LAMBERT  RefEllipsoid LatOrig  LongOrig
#                   FirstStdParal  SecondStdParal   RotCW
#
#    RefEllipsoid choices:
#                   WGS-84, GRS-80, WGS-72, Australian, Krasovsky,
#                   International, Hayford-1909, Clarke-1880, Clarke-1866,
#                   Airy, Bessel, Hayford-180

#TRANS  LAMBERT  Clarke-1880  61.0 -150.0  60.0 62.0  0.0

TRANS SIMPLE  51.593900  07.730400  0.0

# maplines (MAPLINE id_num, name, red, green, blue,
#	linestyle (SOLID, DASHED, DOTTED, DASHDOT))
#MAPLINE  GMT_LONLAT ./data_geog/alaska_rivers.xy  0.0 0.0 1.0  SOLID
#MAPLINE  GMT_LONLAT ./data_geog/alaska.xy  0.0 0.0 0.0  SOLID

# =============================================================================
# END of Generic control file statements
# =============================================================================

# =============================================================================
# Vel2Grid control file statements
# =============================================================================

# output filename root
# (VGOUT <output file root>)
# Layer 2DGrid

VGOUT  ./model/layer

# wave type
# (VGTYPE wave_type (P, S))
VGTYPE P
VGTYPE S

# grid description
# (GRID  num_grid_x  num_grid_y  num_grid_z
#	orig_grid_x  orig_grid_y  orig_grid_z
#	d_grid_x d_grid_y d_grid_z
#       type
#    (float) num_grid_x/y/z : number of nodes along x/y/z axis
#    (float)    orig_grid_x : x location of grid origin (0,0,0) in km pos east
#    (float)    orig_grid_y : y location of grid origin (0,0,0) in km pos north
#    (float)    orig_grid_z : z location of grid origin (0,0,0) in km pos down
#    (float)   d_grid_x/y/x : grid spacing along  x/y/z axis
#    (char[])  type : (VELOCITY = km/s, VELOCITY_METERS = m/s,
#		SLOWNESS = s/km,
#		VEL2 = vel**2,
#		SLOW2 = slow**2, SLOW_2_METERS = slow**2 ((s/m)**2),
#		SLOW_LEN = slow*d_grid)
#
#
# Layer 2DGrid (NOTE: num_grid_x must be = 2 for 2D grids)
#VGGRID  2 401 106  0.0 0.0 -5.0  1.0 1.0 1.0  SLOW_LEN # this grid is 400km in distance and from -5km to 100km in depth
#VGGRID  2 501 44        0.0 0.0 -1.0            1.0 1.0 1.0             SLOW_LEN

VGGRID  2 301 44  0.0 0.0 -3.0  1.0 1.0 1.0  SLOW_LEN

# -----------------------------------------------------------------------------
# velocity model description
# -----------------------------------------------------------------------------

# Vinitimiglia layer model 2 - P/S ratio of 1.68 used
# model layers (LAYER depth, Vp_top, Vp_grad, Vs_top, Vs_grad, p_top, p_grad)

# ham - Combination of Ibb 2layers with M1g
#LAYER  -1.0 3.0 0.40 1.73 0.29 2.7 0.0
#LAYER   4.0 5.0 0.00 2.89 0.00 2.7 0.0
#LAYER  12.0 6.3 0.00 3.60 0.00 2.8 0.0
#LAYER  22.0 6.6 0.00 3.60 0.00 2.9 0.0
#LAYER  32.0 8.0 0.00 4.60 0.00 3.3 0.0

# =============================================================================
# END of Vel2Grid control file statements
# =============================================================================

# =============================================================================
# Grid2Time control file statements
# =============================================================================
#
#
# input, output filename root
# (GTFILES <input file root> <output file root> wave_type (P, S))
#
GTFILES  ./model/layer  ./time/layer P	  # uncomment to generate P travel times
GTFILES  ./model/layer  ./time/layer S	 # uncomment to generate S travel times

# time grid modes
# (GTMODE grid_mode, angle_mode)
#    (char[])   grid_mode (GRID3D, GRID2D)
#    (char[])   angle_mode (ANGLES_YES, ANGLES_NO)
#
GTMODE GRID2D ANGLES_YES

# source description (multiple sources can be specified)
# (GTSRCE  label  x_srce  y_srce   z_srce   elev)#### velest

GTSRCE  APE  LATLON  37.07274  25.52301  0  0
GTSRCE  AHRW LATLON  50.54100  7.07600    0 0
GTSRCE  BA16 LATLON  51.03010  6.66160    0 0
GTSRCE  BA17 LATLON  51.25160  6.36570    0 0
GTSRCE  BAVS LATLON  51.69980  7.13310    0 0
GTSRCE  BAVN LATLON  51.73800  7.12200    0 0
GTSRCE  BD09 LATLON  51.09630  6.46500    0 0
GTSRCE  BD10 LATLON  51.05480  6.45720    0 0
GTSRCE  BD11 LATLON  51.08230  6.43020    0 0
GTSRCE  BD13 LATLON  51.04870  6.43390    0 0
GTSRCE  BULI LATLON  51.45430  7.26020    0 0
GTSRCE  BPFI LATLON  51.41850  7.22760    0 0
GTSRCE  BUG0 LATLON  51.44060  7.26920    0 0
GTSRCE  BK08 LATLON  51.60800  7.67540    0 0
GTSRCE  BK09 LATLON  51.60010  7.62270    0 0
GTSRCE  BK10 LATLON  51.63970  7.66110    0 0
GTSRCE  BK18 LATLON  51.61540  7.62260    0 0
GTSRCE  BK20 LATLON  51.60770  7.65180    0 0
GTSRCE  BK31 LATLON  51.61100  7.59660    0 0
GTSRCE  BK35 LATLON  51.61540  7.62260    0 0
GTSRCE  BK41 LATLON  51.62980  7.59780    0 0
GTSRCE  BK42 LATLON  51.61180  7.58790    0 0
GTSRCE  BRH2 LATLON  51.51180  6.57290    0 0
GTSRCE  BKLB LATLON  51.44010  7.26960    0 0
GTSRCE  BOR0 LATLON  51.08230  6.43020    0 0
GTSRCE  BTEZ LATLON  51.44900  7.27900    0 0
GTSRCE  ENT0 LATLON  51.14480  7.24640    0 0
GTSRCE  DR50 LATLON  51.52580  7.55380    0 0
GTSRCE  HES0 LATLON  51.65770  7.72630    0 0
GTSRCE  HM02 LATLON  51.64710  7.75140    0 0
GTSRCE  HM03 LATLON  51.64360  7.73040    0 0
GTSRCE  HM04 LATLON  51.59390  7.70440    0 0
GTSRCE  HM05 LATLON  51.63020  7.70230    0 0
GTSRCE  HM06 LATLON  51.65020  7.69510    0 0
GTSRCE  HM07 LATLON  51.61870  7.71790    0 0
GTSRCE  HM08 LATLON  51.60800  7.67540    0 0
GTSRCE  HM09 LATLON  51.60010  7.62270    0 0
GTSRCE  HM10 LATLON  51.63970  7.66110    0 0
GTSRCE  HM11 LATLON  51.68310  7.76930    0 0
GTSRCE  HM12 LATLON  51.66180  7.77070    0 0
GTSRCE  HM13 LATLON  51.64520  7.71090    0 0
GTSRCE  HM14 LATLON  51.68910  7.73480    0 0
GTSRCE  HM15 LATLON  51.62760  7.74520    0 0
GTSRCE  HM16 LATLON  51.67770  7.65120    0 0
GTSRCE  HM17 LATLON  51.65970  7.82290    0 0
GTSRCE  HM29 LATLON  51.65980  7.82300    0 0
GTSRCE  IBBN LATLON  52.30710  7.75660    0 0
GTSRCE  IBBE LATLON  52.29970  7.79430    0 0
GTSRCE  IBBS LATLON  52.28420  7.74850    0 0
GTSRCE  KM04 LATLON  51.59390  7.70440    0 0
GTSRCE  KM35 LATLON  51.58440  7.62320    0 0
GTSRCE  KM46 LATLON  51.56950  7.65510    0 0
GTSRCE  KAM0 LATLON  51.59390  7.70440    0 0
GTSRCE  KAST LATLON  51.20270  8.41620    0 0
GTSRCE  LAUG LATLON  51.35100  6.94400    0 0
GTSRCE  LN39 LATLON  51.60370  7.53880    0 0
GTSRCE  LN43 LATLON  51.59760  7.57230    0 0
GTSRCE  SOR0 LATLON  51.20980  7.58280    0 0
GTSRCE  WR15 LATLON  51.68200  7.69360    0 0
GTSRCE  WR17 LATLON  51.67770  7.65120    0 0
GTSRCE  WR38 LATLON  51.65010  7.56530    0 0
GTSRCE  ZERL LATLON  51.62070  6.86950    0 0
GTSRCE  ZER1 LATLON  51.59470  6.82520    0 0
GTSRCE  ZER3 LATLON  51.61270  6.83840    0 0

#   (char[])   label
#    (char[])   loc type (XYZ, LATLON (+/-dec deg), LATLONDM (deg, dec min))
#  XYZ---------------      LATLON/LATLONDM--------
#  x_srce : km pos E   or  lat   : pos N
#  y_srce : km pos N   or  long  : pos E
#  z_srce : km pos DN  or  depth : pos DN
#       positions can be given in km (XYZ), dec_deg (LATLON),
#               deg, dec_min (LATLONDM) or deg, min, dec_sec (LATLONDS)
#INCLUDE ./conf/stations.conf
#INCLUDE obs/station_coordinates.txt	

# -----------------------------------------------------------------------------
# Podvin & Lecomte FD params (Podvin and Lemcomte, 1991, GJI, 105, 271-284)
# -----------------------------------------------------------------------------
# PLFD  hs_eps_init  message_flag [required]
#       hs_eps_init  : fraction (typically 1.0E-3) defining the toler-
#                  ated model inhomogeneity for exact initialization.
#                  A tolerance larger than 0.01 will potentially
#                  create errors larger than those involved by the
#                  F.D. scheme without any exact initialization.
#       message_flag : Message flag (0:silent,1:few messages,2:verbose)
#                  A negative value inhibits "clever" initialization.
GT_PLFD  1.0e-3  0

# =============================================================================
# END of Grid2Time control file statements
# =============================================================================

# =============================================================================
# Time2EQ control file statements
# =============================================================================

# -----------------------------------------------------------------------------
# input  grid filenames root, output filename
# -----------------------------------------------------------------------------
# EQFILES <input file root> <output file> [required]
#EQFILES ./time/ham1D ./obs/synth.obs

EQFILES ./time/layer ./obs/synth.obs

# -----------------------------------------------------------------------------
# hypocenter parameters
# -----------------------------------------------------------------------------
# EQEVENT  label  x_event  y_event  z_event  otime [optional, repeatable]
#       label   : unique name
#       x_event : km pos east
#       y_event : km pos north
#       z_event : km pos down
#       otime   : sec

 EQEVENT  EQ001   0.0 0.0 10.0 0.0
# -----------------------------------------------------------------------------
# station description (multiple stations can be specified)
# -----------------------------------------------------------------------------
# EQSTA  label phase  error_type error error_report_type error_report probActive [required, repeatable]
EQSTA IBBN  P      GAU   0.1    GAU  0.1 1.0
EQSTA IBBN  S      GAU   0.1    GAU  0.1 1.0
EQSTA IBBE  P      GAU   0.1    GAU  0.1 1.0
EQSTA IBBE  S      GAU   0.1    GAU  0.1 1.0
EQSTA IBBS  P      GAU   0.1    GAU  0.1 1.0
EQSTA IBBS  S      GAU   0.1    GAU  0.1 1.0
EQSTA HM03  P      GAU   0.1    GAU  0.1 1.0
EQSTA HM03  S      GAU   0.1    GAU  0.1 1.0
EQSTA HM11  P      GAU   0.1    GAU  0.1 1.0
EQSTA HM11  S      GAU   0.1    GAU  0.1 1.0
EQSTA BULI  P      GAU   0.1    GAU  0.1 1.0
EQSTA BULI  S      GAU   0.1    GAU  0.1 1.0
EQSTA BUG0  P      GAU   0.1    GAU  0.1 1.0
EQSTA BUG0  S      GAU   0.1    GAU  0.1 1.0
EQSTA BK20  P      GAU   0.1    GAU  0.1 1.0
EQSTA BK20  S      GAU   0.1    GAU  0.1 1.0
EQSTA BK18  P      GAU   0.1    GAU  0.1 1.0
EQSTA BK18  S      GAU   0.1    GAU  0.1 1.0
EQSTA DR50  P      GAU   0.1    GAU  0.1 1.0
EQSTA DR50  S      GAU   0.1    GAU  0.1 1.0
EQSTA KM35  P      GAU   0.1    GAU  0.1 1.0
EQSTA KM35  S      GAU   0.1    GAU  0.1 1.0
EQSTA WR17  P      GAU   0.1    GAU  0.1 1.0
EQSTA WR17  S      GAU   0.1    GAU  0.1 1.0
EQSTA KAST  P      GAU   0.1    GAU  0.1 1.0
EQSTA KAST  S      GAU   0.1    GAU  0.1 1.0
EQSTA ZERL  P      GAU   0.1    GAU  0.1 1.0
EQSTA ZERL  S      GAU   0.1    GAU  0.1 1.0
# -----------------------------------------------------------------------------
# source description (multiple sources can be specified)
# -----------------------------------------------------------------------------
# EQSRCE (see GTSRCE) [optional, repeatable]
#
EQSRCE  Hamm  LATLON   51.593900 7.730400 9.722238  0.0


# -----------------------------------------------------------------------------
# event mechanism description
# -----------------------------------------------------------------------------
# MECH  mech_type, strike, dip, rake [optional]
#       mech_type (DOUBLE, ISO, NONE) 

EQMECH  DOUBLE 0.0 90.0 0.0

# -----------------------------------------------------------------------------
# select mode sta->src or src->sta
# -----------------------------------------------------------------------------
# EQMODE str_mode [required]
#       SRCE_TO_STA  calc time for single source to multiple stations
#   STA_TO_SRCE  calc time for multiple sources to single station

EQMODE SRCE_TO_STA

# -----------------------------------------------------------------------------
# quality to error mapping (for HYPO71, etc)
# -----------------------------------------------------------------------------


# EQQUAL2ERR Err0 Err1 Err2 ... [required]

EQQUAL2ERR 0.1 0.2 0.4 0.8 99999.9

# -----------------------------------------------------------------------------
# Vp / Vs ratio (overrides any S travel-time grids)
# -----------------------------------------------------------------------------
# EQVPVS VpVs_ratio [optional]
EQVPVS  1.73



# EQQUAL2ERR - Quality to Error Mapping
# required, non-repeatable
# Syntax 1: EQQUAL2ERR Err0 ... ... ... ...
# Specifies the mapping of error to phase pick quality for output of phase/observations in HYPO71 file format (which does not include time uncertainties) ( i.e. time uncertainties in seconds ( i.e. 0.01 or 0.5 ) to quality 0,1,2,3 or 4 ).
#
#    Err0 ... ErrN (float, min:0.0) one time uncertainty value for each quality level that may be output to the phase/observation file. Synthetic errors less than or equal to the first value Err0 are output with quality 0 , less than or equal to the second are output with 1 , etc.
#
EQQUAL2ERR 0.05 0.1 0.5 1.0 99999.9


# =============================================================================
# END of Time2EQ control file statements
# =============================================================================
# =============================================================================


# =============================================================================
# =============================================================================
# NLLoc control file statements
# =============================================================================

# -----------------------------------------------------------------------------
# signature
# -----------------------------------------------------------------------------
# LOCSIG signature [optional]
LOCSIG Marc Baboulek - Ruhr-University Bochum


# -----------------------------------------------------------------------------
# comment
# -----------------------------------------------------------------------------
# LOCCOM comment [optional]

LOCCOM Hamm event (NonLinLoc Localisation)

# -----------------------------------------------------------------------------
# input  grid filenames root, output filename
# -----------------------------------------------------------------------------
# LOCFILES <obs file> obs_type  <travel-time grid files path/root> <output file path/root>
#       obs_type : NLLOC_OBS, HYPO71, HYPOELLIPSE, RENASS_DEP, SEISAN
#LOCFILES ./YD/obs/ydnet.obs NLLOC_OBS  ./YD/time/layer  ./YD/output/ham1D
LOCFILES ./obs/2018-11-30-mww70-southern-alaska.obs NLLOC_OBS  ./time/layer  ./loc/alaska

# -----------------------------------------------------------------------------
# output hypocenter file types
# -----------------------------------------------------------------------------
# LOCHYPOUT type1, type2, ... [optional]
#       typeN (SAVE_NLLOC_ALL, SAVE_NLLOC_SUM, SAVE_HYPO71_ALL, 
#               SAVE_HYPO71_SUM, SAVE_HYPOELL_ALL, SAVE_HYPOELL_SUM,
#               SAVE_HYPOINV_SUM, SAVE_NLLOC_OCTREE)
LOCHYPOUT SAVE_NLLOC_ALL  SAVE_HYPOINV_SUM

# -----------------------------------------------------------------------------
# search type
# -----------------------------------------------------------------------------
# LOCSEARCH search_type <params> [required]
#       search_type (GRID, MET (Metropolis), SA (Simulated Annealing))
#   <params> :
#               GRID NumScatterSamples
#               MET  NumSamples NumLearn NumEquil BeginSave NumSkip
#            StepInit StepMin StepFact ProbMin
#               OCT  init_num_cells_x, init_num_cells_y, init_num_cells_z,
#                        min_node_size, max_num_nodes, num_scatter,
#                        use_stations_density (1 = Weights oct-tree cell prob values used for subdivide$
#                               in proportion to number of stations in oct-tree cell.
#                               Gives higher search priority to cells containing stations,
#                               stablises convergence to local events when global search used
#                               with dense cluster of local stations.),
#                        stop_on_min_node_size (1 = stop search when first min_node_size reached,
#                               0 = stop subdividing a given cell when min_node_size reached.)
LOCSEARCH GRID 500
#LOCSEARCH  OCT 10 10 4 0.001 10000 15000 0 1
#LOCSEARCH MET 10000 1000 4000 5000 5 -1 0.01 8.0 1.0e-10

# -----------------------------------------------------------------------------
# location method
# -----------------------------------------------------------------------------
# LOCMETH method [required]
#       method (GAU_ANALYTIC, EDT, EDT_OT_WT)
#       GAU_ANALYTIC : L2 norm following Tarantola and Valette (1982)
#       EDT          : Equal Differential Time (see )
#       EDT_OT_WT    : Weights EDT sum prob by variance of OT estimated over all pairs of readings.
#                      Downweights locations with inconsistent OT estimates.
#       maximum_dist_sta_to_grid (use very large value for no max)
#       minimum_number_phases for location
#       maximum_number_phases for location (-1 for no max)
#       minimum_number_S_phases for location (-1 for no min)
#       Vp/Vs ratio (< 0.0 to use S travel time grids)
#   maximum_number_3D_grids to attempt to read into memory (-1 for no max)
#       minimum_dist_sta_to_grid (-1 for no min)
#       flag indicating if duplicate arrivals used for location (1=reject, 0=use if time diff < sigma /$
#       duplicate arrivals have same station label and phase name
#LOCMETH GAU_ANALYTIC 9999.0 4 -1 -1 1.73 6 -1.0 0
#LOCMETH EDT_OT_WT 9999.0 3 -1 1 1.73 -1.0 -1.0 0
LOCMETH EDT_OT_WT 9999.0 4 -1 -1 1.68 6 -1.0 1
#LOCMETH EDT 9999.0 3 -1 1 1.73 -1.0 -1.0 0

# -----------------------------------------------------------------------------
# gaussian model error parameters
# -----------------------------------------------------------------------------
# LOCGAU Sigma_T (s), CorrLen (km) [required]
#LOCGAU 0.2 0.5
#LOCGAU 0.1 0.05
LOCGAU 0.5 0.0

# -----------------------------------------------------------------------------
# travel-time dependent gaussian model error parameters
# -----------------------------------------------------------------------------
# LOCGAU2 SigmaTfraction,  SigmaTmin (s),  SigmaTmax (s) [optional]
# travel time error is travel_time*SigmaTfraction, with max/min value = SigmaTmin/SigmaTmax
#LOCGAU2 0.125 0.01 1.25
LOCGAU2 0.02 0.05 2.0
# -----------------------------------------------------------------------------
# phase identifier mapping
# -----------------------------------------------------------------------------
# LOCPHASEID phase  phase_id0 phase_id1 ... [optional, repeatable]
# examples for P and S
#       LOCPHASEID  P   P p
#       LOCPHASEID  S   S s
#       LOCPHASEID  S   $ #ToIgnoreS
LOCPHASEID  P   P p G PN Pn PG Pg
LOCPHASEID  S   S s G SN Sn SG Sg

# -----------------------------------------------------------------------------
# quality to error mapping (for HYPO71, etc)
# -----------------------------------------------------------------------------
# LOCQUAL2ERR Err0 Err1 Err2 ... [required or optional]
#
# the following quality mapping is default from Hypoellipse documentation
LOCQUAL2ERR 0.1 0.5 1.0 2.0 99999.9

# -----------------------------------------------------------------------------
# location search grid description
# -----------------------------------------------------------------------------
# LOCGRID  num_grid_x  num_grid_y  num_grid_z
#       orig_grid_x  orig_grid_y  orig_grid_z
#       d_grid_x d_grid_y d_grid_z
#   type save_flag [required, repeatable]
#
#       num_grid_x/y/z : number of nodes along x/y/z axis
#       orig_grid_x : x location of grid origin (0,0,0) in km pos east
#       orig_grid_y : y location of grid origin (0,0,0) in km pos north
#       orig_grid_z : z location of grid origin (0,0,0) in km pos down
#       d_grid_x/y/x : grid spacing along  x/y/z axis
#       type : (PROB_DENSITY, MISFIT)
#       save_flag : (SAVE, NO_SAVE)
#
# For Grid search, first grid is used for initial search.  Subsequent grids are
# shifted in x/y/z so that they are centered on the minimum misfit hypocenter
# x/y/z of the previous grid if x/y/z < -1.0e20.
#LOCGRID  21 21 51  -10.0 -10.0 -0.1  1.0 1.0 0.1   MISFIT  SAVE
#LOCGRID  21 21 51  -10.0 -10.0 -0.1  1.0 1.0 0.1   PROB_DENSITY  SAVE
LOCGRID  201 201 106  -100.0 -100.0 -5.0  1.0 1.0 1.0   PROB_DENSITY  SAVE
#LOCGRID  3001 3001 301  -150.0 -150.0 0.0  0.1 0.1 0.1   PROB_DENSITY  SAVE
# stagged grid for grid search (does not work with SC3!)
#LOCGRID  51 51 21  -100.0 -100.0 0.0  4.0 4.0 1.0   MISFIT  NO_SAVE
#LOCGRID  51 51 21  -1.0e30 -1.0e30 0.0  0.5 0.5 1.0   MISFIT  NO_SAVE
#LOCGRID  81 81 81  -1.0e30 -1.0e30 0.0  0.25 0.25 0.25  PROB_DENSITY  SAVE

# -----------------------------------------------------------------------------
# phase statistics parameters
# -----------------------------------------------------------------------------
# LOCPHSTAT RMS_Max, NRdgs_Min, Gap_Max, P_ResMax, S_ResMax [optional]
#       RMS_Max        : max hypocenter RMS to include in ave res
#       NRdgs_Min      : min hypocenter num readings to include in ave res
#       Gap_Max        : max hypocenter gap (deg) to include in ave res
#       P_ResMax       : max abs(P res) to include in ave res
#       S_ResMax       : max abs(S res) to include in ave res
#       S_ResMax       : max abs(S res) to include in ave res
#       Ell_Len3_Max   : max ellipsoid major semi-axis length to include in ave res
#       Hypo_Depth_Min : min hypo depth to include in ave res
#       Hypo_Depth_Max : max hypo depth to include in ave res
LOCPHSTAT 9999.0 -1 9999.0 1.0 1.0 9999.9 -9999.9 9999.9

# -----------------------------------------------------------------------------
# take-off angles mode & minimum quality
# -----------------------------------------------------------------------------
# LOCANGLES angles_mode, min_quality [optional]
#       angles_mode (ANGLES_YES, ANGLES_NO)
#       min_quality : minimum quality to use take-off angles
LOCANGLES ANGLES_YES 5

# -----------------------------------------------------------------------------
# magnitude calculation method
# -----------------------------------------------------------------------------
# LOCMAG magnitude_type <params> [optional]
#       magnitude_type  (ML_HB (ML, Hutton Boore 1987)
#                                       (MD_FMAG (duration mag, Lahr 1989)
#       ML_HB  amp_fact n K
#       MD_FMAG c1 c2 c3 c4 c5
LOCMAG ML_HB 1.0 1.110 0.00189

# -----------------------------------------------------------------------------
# magnitude calculation component
#       (for specifying component specific parameters, i.e. constants for magnitude calculation)
# -----------------------------------------------------------------------------
# LOCCMP name inst comp amp_fact sta_corr [optional, repeatable]
#       name     : station identifier (after alias evaluation, without trailing underscore "_")
#       name     : inst identifier (use '?' for don't care)
#       name     : comp identifier (use '?' for don't care)
#       amp_fact : amplitude factor, will be multiplied by amplitude
#       sta_corr : mganitude correction
#
# example:
#       LOCCMP CDR ? ? 1.0 0.0

# -----------------------------------------------------------------------------
# station name alias
#       (for aliasing sta names, for date validation and for phase time delays)
# -----------------------------------------------------------------------------
# LOCALIAS name alias year mo day year mo day [optional, repeatable]
#       name  : station identifier on input
#       alias : station identifier for travel time grid on output
#               NOTE: a trailing underscore "_" in aliases will only be
#                         used for time grid identification, not for output
#       year mo day : start date of validity (0 0 0 = no start date)
#       year mo day : end date of validity  (9999 99 99 = no end date)
#
#   Note:
#       Alias evaluation is applied recursively, beware of infinite recursion!
#               P and S delays from last alias only are used!
#       Example:
#               LOCALIAS ART ART_       1996 05 29      1996 09 18   0.03  0.08

# -----------------------------------------------------------------------------
# exclude observations
# -----------------------------------------------------------------------------
# LOCEXCLUDE name phase [optional, repeatable]
#       name  : station identifier after any alias
#       phase : phase identifier on input

# -----------------------------------------------------------------------------
# phase time delays
# -----------------------------------------------------------------------------
# LOCDELAY name phase n_readings p_delay s_delay [optional, repeatable]
#       name  : station identifier on control file statements
#       phase : phase identifier
#       n_readings : number of residuals used to calc delay
#       delay : delay in seconds, subtracted from obs time
# station identifiers are evaluated after aliases has been evaluated!
# example:
#       LOCDELAY NEGI P  1  0.04

# -----------------------------------------------------------------------------
# simple, vertical ray elevation correction
# -----------------------------------------------------------------------------
# LOCELEVCORR flag velP velS [optional]
# LOCELEVCORR 1 4.0 2.312

# -----------------------------------------------------------------------------
# topographic mask for location search region
# -----------------------------------------------------------------------------
# LOCTOPO_SURFACE gmtGridFile flagDumpdecimation [optional]

# -----------------------------------------------------------------------------
# station distribution weighting
# -----------------------------------------------------------------------------
# LOCSTAWT flag cutoffDist [optional]

# -----------------------------------------------------------------------------
# fixed origin time
# -----------------------------------------------------------------------------
# LOCFIXOTIME year month day hour min sec [optional] (undocumented)
#       year month day hour min
#       sec
LOCFIXOTIME 2022 01 17 17 56 02.09



# =============================================================================
# END of NLLoc control file statements
# =============================================================================
# =============================================================================
